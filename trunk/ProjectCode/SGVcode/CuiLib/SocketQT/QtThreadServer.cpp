//#include "stdafx.h"
#include "QtThreadServer.hpp"
/*-------------------------------------*/
/**
*
*
*/
/*-------------------------------------*/
QtThreadServer::QtThreadServer()
{

}
/*-------------------------------------*/
/**
*
*
*/
/*-------------------------------------*/
QtThreadServer::QtThreadServer(int _port,QSharedPointer<QtTcpServer> _TcpServer)
{
	m_TcpServer=_TcpServer;
	m_TcpServer->moveToThread(this);
	this->m_port = _port;
}
/*-------------------------------------*/
/**
*
*
*/
/*-------------------------------------*/
QtThreadServer::~QtThreadServer(void)
{
	
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
void QtThreadServer::run()
{
	

	

	if (m_TcpServer->listen(QHostAddress::AnyIPv4,m_port)) {
	  
		qDebug() <<"TCP Server Is Start ,Port."<<m_port<< "Date:" << QDate::currentDate();
	
	}	else {
	
		qDebug() << "TCP Server Is Start Error ." << "Date:" << QDate::currentDate();
	}



	
	
	
	while (M_THREAD_RUN){
#if 0
		if (m_TcpServer->waitForNewConnection()){
						
		}
		this->sleep(200);
#endif // 0
		this->exec();
		
	}

	

}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/