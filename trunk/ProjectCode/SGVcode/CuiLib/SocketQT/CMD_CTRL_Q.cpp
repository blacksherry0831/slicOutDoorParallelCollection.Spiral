//#include "stdafx.h"
#include "CMD_CTRL_Q.hpp"
/*-------------------------------------*/
/**
*
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*
*/
/*-------------------------------------*/
CMD_CTRL_Q::CMD_CTRL_Q()
{
	this->init();
	
}
/*-------------------------------------*/
/**
*
*
*/
/*-------------------------------------*/
CMD_CTRL_Q::~CMD_CTRL_Q()
{
	this->clear();
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
void CMD_CTRL_Q::init()
{
	this->clear();
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
void CMD_CTRL_Q::destory()
{
	this->clear();
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
void CMD_CTRL_Q::clear()
{
	QMutexLocker locker(&mutex);
	mCmds.clear();
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
QSharedPointer<CMD_CTRL> CMD_CTRL_Q::getCmd()
{
	QSharedPointer<CMD_CTRL> cmd_ctrl;

	QMutexLocker locker(&mutex);
	

	if (mCmds.isEmpty()) {
		cmd_ctrl.clear();
	}else{
		cmd_ctrl = mCmds.dequeue();
	}



	

	return cmd_ctrl;
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
void CMD_CTRL_Q::setCmd(QSharedPointer<CMD_CTRL> cmd_ctrl)
{
	QMutexLocker locker(&mutex);

	if (!cmd_ctrl.isNull()){
			mCmds.enqueue(cmd_ctrl);
	}	
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
int CMD_CTRL_Q::QueueSize()
{
	QMutexLocker locker(&mutex);
	return	mCmds.size();
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/
int CMD_CTRL_Q::IsValid()
{
	return QueueSize();
}
/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/

/*-------------------------------------*/
/**
*
*/
/*-------------------------------------*/